<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>简历快填助手</title>
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div class="page">
    <header class="hero" role="banner">
      <div class="hero__content">
        <span class="hero__icon" aria-hidden="true">简</span>
        <div class="hero__text">
          <span class="hero__chip">Resume Bucket</span>
          <h1>简历快填助手</h1>
          <p class="hero__subtitle">管理常用的简历字段，让网页表单填写保持一致、快速且优雅。</p>
        </div>
      </div>
      <div class="hero__meta" aria-live="polite">
        <div class="stat-card">
          <span class="stat-label">当前键值</span>
          <span class="stat-value" id="keyCountValue">0</span>
        </div>
        <span class="hero__note">所有数据仅保存在本地</span>
      </div>
    </header>

    <main class="content">
      <section class="card form-card" aria-labelledby="formTitle">
        <div class="card-header">
          <h2 id="formTitle">快速录入</h2>
          <p>保存简历字段与内容，稍后在网页表单中即可直接回填。</p>
        </div>
        <div class="field-grid">
          <label for="keyInput">键（名称）
            <input id="keyInput" type="text" placeholder="例如：姓名、邮箱、期望职位" />
          </label>
          <label for="valueInput" class="wide">值（内容）
            <textarea id="valueInput" rows="4" placeholder="在这里输入要填入表单的内容"></textarea>
          </label>
        </div>
        <div class="form-actions">
          <button id="saveBtn" type="button">添加/更新</button>
          <button id="clearFormBtn" class="secondary" type="button">清空输入</button>
        </div>
        <p class="form-tip">先在网页上点击目标输入框，再在下方列表中选择键即可填充保存的内容。</p>
      </section>

      <section class="card list-card" aria-labelledby="listTitle">
        <div class="card-header list-header">
          <div>
            <h2 id="listTitle">键值库</h2>
            <p>支持按名称或内容模糊搜索，点击条目即可填入当前页面。</p>
          </div>
          <label class="search" for="searchInput">
            <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M11 4a7 7 0 0 1 5.658 11.162l3.59 3.59a1 1 0 0 1-1.414 1.415l-3.59-3.59A7 7 0 1 1 11 4zm0 2a5 5 0 1 0 3.535 8.536A5 5 0 0 0 11 6z" fill="currentColor"/></svg>
            <input id="searchInput" type="search" placeholder="搜索键或内容..." />
          </label>
        </div>
        <div id="emptyState" class="empty-state" hidden>
          <h3>还没有保存任何键值</h3>
          <p>先在上方录入常用信息，或通过导入按钮加载已有 JSON 数据。</p>
        </div>
        <div id="keysContainer" class="keys" role="list"></div>
        <div class="list-footer">
          <div class="importers">
            <button id="exportBtn" class="secondary ghost small" type="button">导出 JSON</button>
            <label class="import-label secondary ghost small" for="importInput">
              导入 JSON
              <input id="importInput" type="file" accept="application/json" hidden />
            </label>
          </div>
          <button id="clearAllBtn" class="danger outline small" type="button">清空全部</button>
        </div>
      </section>
    </main>
  </div>

  <script src="popup.js"></script>
</body>
</html>
